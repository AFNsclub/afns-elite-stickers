<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Top 10 Ranking</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>

<style>
body{
  background:#050b14;
  color:#fff;
  font-family:Segoe UI,sans-serif;
}
.container{
  max-width:460px;
  margin:auto;
  padding:20px;
}
h2{
  text-align:center;
  color:#ffd400;
  margin-bottom:20px;
}
.card{
  background:#0b1622;
  padding:14px;
  border-radius:14px;
  margin-top:12px;
  display:flex;
  align-items:center;
  gap:14px;
  animation:slide .5s ease forwards;
}
@keyframes slide{
  from{opacity:0;transform:translateY(10px)}
  to{opacity:1}
}
.rank{
  font-size:20px;
  font-weight:900;
  color:#00eaff;
}
.name{font-weight:700}
.rating{margin-left:auto;color:#4cff8f}
.badge{
  font-size:18px;
}
.gold{color:#ffd400}
.silver{color:#cfd8dc}
.bronze{color:#ff9f43}
</style>
</head>

<body>
<div class="container">
<h2>üèÜ Top 10 Players</h2>
<div id="list"></div>
</div>

<script>
firebase.initializeApp({
  apiKey:"AIzaSyBtDxu0LJyb10ZkhH8IpxT5s8PcKc4nUxM",
  authDomain:"afnsclub.firebaseapp.com",
  projectId:"afnsclub"
});

const db=firebase.firestore();

function badge(i){
  if(i==1) return "üëë";
  if(i==2) return "ü•à";
  if(i==3) return "ü•â";
  return "üî•";
}

db.collection("players")
  .orderBy("rating","desc")
  .limit(10)
  .onSnapshot(snap=>{
    list.innerHTML="";
    let i=0;
    snap.forEach(doc=>{
      i++;
      const p=doc.data();
      list.innerHTML+=`
        <div class="card">
          <div class="rank">${i}</div>
          <div>
            <div class="name">${p.username||"Player"}</div>
            <div class="small">${p.rank||""}</div>
          </div>
          <div class="rating">${p.rating||0} ‚≠ê</div>
          <div class="badge">${badge(i)}</div>
        </div>
      `;
    });
  });
</script>
</body>
</html>
