<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>AFNS Elite Strikers Ranking</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- Firebase v8 -->
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>

<style>
body{
  margin:0;
  background:#020d1f;
  font-family:Segoe UI;
  color:white;
  text-align:center;
}
h1{
  padding:20px;
}
table{
  width:95%;
  margin:auto;
  border-collapse:collapse;
  margin-top:20px;
}
th{
  background:#0c1b2a;
  padding:14px;
  font-size:18px;
}
td{
  padding:12px;
  border-bottom:1px solid #1f2f45;
}
tr:hover{
  background:#102b4d;
}
.rank1{color:gold;font-weight:bold}
.rank2{color:silver;font-weight:bold}
.rank3{color:#cd7f32;font-weight:bold}
</style>
</head>

<body>

<h1>üèÜ AFNS Elite Strikers Ranking</h1>

<table>
<thead>
<tr>
<th>Rank</th>
<th>Player</th>
<th>Win</th>
<th>Loss</th>
<th>Draw</th>
<th>Rating</th>
</tr>
</thead>
<tbody id="rankingBody"></tbody>
</table>

<script>

// üî• Firebase Config
firebase.initializeApp({
  apiKey:"AIzaSyBtDxu0LJyb10ZkhH8IpxT5s8PcKc4nUxM",
  authDomain:"afnsclub.firebaseapp.com",
  projectId:"afnsclub"
});

const db = firebase.firestore();

const table = document.getElementById("rankingBody");

db.collection("players")
.orderBy("rating","desc")
.onSnapshot(snapshot=>{

  table.innerHTML="";
  let rank=1;

  snapshot.forEach(doc=>{

    const p=doc.data();

    let rankClass="";
    if(rank==1) rankClass="rank1";
    if(rank==2) rankClass="rank2";
    if(rank==3) rankClass="rank3";

    table.innerHTML+=`
      <tr>
        <td class="${rankClass}">${rank}</td>
        <td>${p.username || "-"}</td>
        <td>${p.win || 0}</td>
        <td>${p.loss || 0}</td>
        <td>${p.draw || 0}</td>
        <td>${p.rating || 0}</td>
      </tr>
    `;

    rank++;
  });

});

</script>

</body>
</html>
