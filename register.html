<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Create Account | AFNs Elite Striker</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link rel="stylesheet" href="style.css">

<!-- Firebase -->
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>

<script>
firebase.initializeApp({
  apiKey:"AIzaSyBtDxu0LJyb10ZkhH8IpxT5s8PcKc4nUxM",
  authDomain:"afnsclub.firebaseapp.com",
  projectId:"afnsclub"
});
</script>

<style>
/* notification */
.notice {
  margin-top: 12px;
  padding: 10px;
  border-radius: 8px;
  font-size: 14px;
  display: none;
}
.notice.success { background:#16a34a; }
.notice.error { background:#dc2626; }
.notice.loading { background:#2563eb; }
</style>
</head>

<body>

<div class="container">
  <h2 class="title">Create Account</h2>

  <form onsubmit="event.preventDefault(); register();">
    <input id="email" type="email" placeholder="Email" required>

    <input id="password" type="password"
           placeholder="Password (min 6 chars)" required>

    <button class="btn-save" id="btnCreate">
      Create Account
    </button>
  </form>

  <div id="notice" class="notice"></div>
</div>

<!-- FOOTER -->
<footer class="global-footer">
  <div class="footer-inner">
    <img src="logo.png" class="footer-logo">
    <div class="footer-text">
      AFNs Elite Striker |
      <a href="https://www.facebook.com/share/1CTCywTQAj/" target="_blank">
        SI Shohan
      </a>
    </div>
  </div>
</footer>

<script>
const notice = document.getElementById("notice");
const btn = document.getElementById("btnCreate");

function show(msg,type){
  notice.textContent = msg;
  notice.className = "notice " + type;
  notice.style.display = "block";
}

function register(){
  const email = document.getElementById("email").value.trim();
  const pass  = document.getElementById("password").value;

  if(!email || !pass){
    show("All fields required ❌","error");
    return;
  }

  if(pass.length < 6){
    show("Password must be 6 characters ❌","error");
    return;
  }

  btn.disabled = true;
  show("Creating account...","loading");

  firebase.auth()
    .createUserWithEmailAndPassword(email,pass)
    .then(res=>{
      show("Account created successfully ✅","success");

      // UID save for player page
      window.__UID__ = res.user.uid;

      setTimeout(()=>{
        location.href="player.html";
      },1200);
    })
    .catch(err=>{
      btn.disabled = false;

      if(err.code==="auth/email-already-in-use"){
        show("Email already used ❌","error");
      }
      else if(err.code==="auth/invalid-email"){
        show("Invalid email ❌","error");
      }
      else if(err.code==="auth/weak-password"){
        show("Weak password ❌","error");
      }
      else{
        show(err.message,"error");
      }
    });
}
</script>

</body>
</html>
