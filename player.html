<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Player Profile</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <style>
    body{
      margin:0;
      font-family: Arial, sans-serif;
      background: linear-gradient(180deg,#050b1e,#020617);
      color:#fff;
    }
    .container{
      max-width:420px;
      margin:auto;
      padding:16px;
    }
    .card{
      background:rgba(255,255,255,.05);
      border-radius:18px;
      padding:18px;
      margin-bottom:16px;
      box-shadow:0 10px 25px rgba(0,0,0,.4);
    }
    .center{text-align:center;}
    .avatar{
      width:90px;height:90px;
      border-radius:50%;
      background:#4f8cff;
      display:flex;
      align-items:center;
      justify-content:center;
      font-size:42px;
      font-weight:bold;
      margin:10px auto;
    }
    .motivation{
      font-size:14px;
      opacity:.85;
      margin-bottom:6px;
    }
    h2{margin:6px 0;}
    .info{
      font-size:14px;
      opacity:.9;
      margin:6px 0;
    }
    .info a{color:#4f8cff;text-decoration:none;}
    .stats{
      display:grid;
      grid-template-columns:1fr 1fr;
      gap:12px;
      margin-top:12px;
    }
    .stat{
      background:rgba(0,0,0,.35);
      border-radius:14px;
      padding:14px;
      text-align:center;
    }
    .stat span{
      display:block;
      font-size:20px;
      font-weight:bold;
    }
    input{
      width:100%;
      padding:14px;
      border-radius:14px;
      border:none;
      margin-bottom:12px;
      background:#0b122c;
      color:#fff;
      font-size:15px;
    }
    button{
      width:100%;
      padding:14px;
      border:none;
      border-radius:16px;
      background:#4f8cff;
      color:#fff;
      font-size:16px;
      font-weight:bold;
      cursor:pointer;
    }
    .logout{
      background:#ff4f4f;
      margin-top:10px;
    }
  </style>
</head>

<body>
<div class="container">

  <!-- PROFILE CARD -->
  <div class="card center">
    <div id="motivationText" class="motivation">Loading...</div>
    <div id="avatar" class="avatar">?</div>
    <h2 id="playerName">Player</h2>

    <div style="margin:8px 0;">
      <div style="font-size:13px;opacity:.7;">Current Rank</div>
      <div id="rankText" style="font-size:22px;font-weight:bold;">Loading...</div>
    </div>

    <div class="info">üìû <span id="phoneText"></span></div>
    <div class="info">‚úâÔ∏è <span id="emailText"></span></div>
    <div class="info">üéÆ Game ID: <span id="gameIdText"></span></div>
    <div class="info">üì± Device: <span id="deviceText"></span></div>
    <div class="info">üîó <a id="fbLink" target="_blank">Facebook Profile</a></div>

    <div class="stats">
      <div class="stat">Wins <span id="wins">0</span></div>
      <div class="stat">Losses <span id="losses">0</span></div>
      <div class="stat">Goals <span id="goals">0</span></div>
      <div class="stat">Goal Diff <span id="gd">0</span></div>
    </div>

    <button class="logout" onclick="logout()">Logout</button>
  </div>

  <!-- EDIT CARD -->
  <div class="card">
    <h3>Edit Profile</h3>

    <input id="nameInput" placeholder="Player name">
    <input id="phoneInput" placeholder="Phone number">
    <input id="emailInput" placeholder="Email">
    <input id="gameIdInput" placeholder="Game ID">
    <input id="deviceInput" placeholder="Device name">
    <input id="fbInput" placeholder="Facebook profile link">

    <button onclick="saveProfile()">Save Changes</button>
  </div>
</div>

<!-- Firebase -->
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>

<script>
  const firebaseConfig = {
    apiKey: "AIzaSyBtDxu0LJyb10ZkhH8IpxT5s8PcKc4nUxM",
    authDomain: "afnsclub.firebaseapp.com",
    projectId: "afnsclub",
    storageBucket: "afnsclub.firebasestorage.app",
    messagingSenderId: "1088089213558",
    appId: "1:1088089213558:web:bd5e01caaeecaa46bcad57"
  };

  firebase.initializeApp(firebaseConfig);
  const auth = firebase.auth();

  // üîí AUTH GUARD
  auth.onAuthStateChanged(user=>{
    if(!user){
      window.location.replace("login.html");
    }else{
      window.__UID__ = user.uid;
    }
  });

  function logout(){
    auth.signOut().then(()=>{
      window.location.replace("login.html");
    });
  }
</script>

<script src="player.js"></script>
</body>
</html>
