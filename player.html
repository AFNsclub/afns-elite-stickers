<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Player Profile</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
    margin:0;
    font-family:Arial;
    background:#0b1220;
    color:white;
    text-align:center;
}
.container{padding:20px;}
.avatar{
    width:130px;
    height:130px;
    border-radius:50%;
    object-fit:cover;
    border:4px solid #00eaff;
    margin:15px auto;
}
.card{
    background:#141c2f;
    padding:20px;
    border-radius:20px;
    max-width:420px;
    margin:15px auto;
}
.rating{
    font-size:60px;
    color:#ffd700;
}
.badge{
    display:inline-block;
    padding:6px 14px;
    border-radius:20px;
    font-weight:bold;
    margin-top:8px;
}
.bronze{background:#cd7f32;}
.silver{background:#c0c0c0;color:#000;}
.gold{background:#ffd700;color:#000;}
button{
    background:#00c8ff;
    border:none;
    padding:12px 20px;
    border-radius:25px;
    font-size:15px;
    margin:6px;
}
.logout{background:#ff4c4c;}
</style>
</head>

<body>

<div class="container">

    <img id="avatar" class="avatar" src="">
    <h2 id="playerName">Player</h2>

    <!-- Rating & Badge -->
    <div class="card">
        <div class="rating" id="rating">100</div>
        <div id="badge" class="badge bronze">BRONZE</div>
    </div>

    <!-- Bio -->
    <div class="card">
        <h3>About Player</h3>
        <p id="bio">No bio added.</p>
    </div>

    <button onclick="shareProfile()">üîó Share Public Profile</button><br>
    <button onclick="editProfile()">‚úèÔ∏è Edit Profile</button>
    <button onclick="logout()" class="logout">Logout</button>

</div>

<script>
const currentPlayer = localStorage.getItem("currentPlayer");
if(!currentPlayer){
    window.location.href="login.html";
}

document.getElementById("playerName").innerText=currentPlayer;

// Rating
const players = JSON.parse(localStorage.getItem("players"))||{};
const rating = players[currentPlayer] || 100;
document.getElementById("rating").innerText = rating;

// Badge logic
const badge = document.getElementById("badge");
if(rating >= 700){
    badge.innerText="GOLD";
    badge.className="badge gold";
}else if(rating >= 400){
    badge.innerText="SILVER";
    badge.className="badge silver";
}else{
    badge.innerText="BRONZE";
    badge.className="badge bronze";
}

// Profile
const profiles = JSON.parse(localStorage.getItem("profiles"))||{};
if(profiles[currentPlayer]){
    if(profiles[currentPlayer].avatar){
        document.getElementById("avatar").src=profiles[currentPlayer].avatar;
    }
    if(profiles[currentPlayer].bio){
        document.getElementById("bio").innerText=profiles[currentPlayer].bio;
    }
}

// Actions
function editProfile(){
    window.location.href="edit-profile.html";
}
function logout(){
    localStorage.removeItem("currentPlayer");
    window.location.href="login.html";
}
function shareProfile(){
    const url = location.origin + location.pathname.replace(
        "player.html",
        "public-profile.html?player="+currentPlayer
    );
    navigator.clipboard.writeText(url);
    alert("Public profile link copied!");
}
</script>

</body>
</html>
