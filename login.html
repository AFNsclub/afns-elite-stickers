<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Login | AFNs Elite Striker</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link rel="stylesheet" href="style.css">

<!-- Firebase -->
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>

<script>
firebase.initializeApp({
  apiKey:"AIzaSyBtDxu0LJyb10ZkhH8IpxT5s8PcKc4nUxM",
  authDomain:"afnsclub.firebaseapp.com",
  projectId:"afnsclub"
});
</script>

<style>
.notice{
  margin-top:12px;
  padding:10px;
  border-radius:8px;
  font-size:14px;
  display:none;
}
.notice.loading{background:#2563eb;}
.notice.error{background:#dc2626;}
.notice.success{background:#16a34a;}
.links{
  text-align:center;
  margin-top:14px;
  font-size:14px;
}
.links a{
  color:#60a5fa;
  text-decoration:none;
}
</style>
</head>

<body>

<div class="container">
  <h2 class="title">Player Login</h2>

  <form onsubmit="event.preventDefault(); login();">
    <input id="email" type="email" placeholder="Email" required>
    <input id="password" type="password" placeholder="Password" required>

    <button class="btn-save" id="btnLogin">
      Login
    </button>
  </form>

  <div id="notice" class="notice"></div>

  <div class="links">
    New player?
    <a href="register.html">Create Account</a>
  </div>
</div>

<!-- FOOTER -->
<footer class="global-footer">
  <div class="footer-inner">
    <img src="logo.png" class="footer-logo">
    <div class="footer-text">
      AFNs Elite Striker |
      <a href="https://www.facebook.com/share/1CTCywTQAj/" target="_blank">
        SI Shohan
      </a>
    </div>
  </div>
</footer>

<script>
const notice = document.getElementById("notice");
const btn = document.getElementById("btnLogin");

function show(msg,type){
  notice.textContent = msg;
  notice.className = "notice " + type;
  notice.style.display = "block";
}

firebase.auth().onAuthStateChanged(user=>{
  if(user){
    location.href="player.html";
  }
});

function login(){
  const email = document.getElementById("email").value.trim();
  const pass  = document.getElementById("password").value;

  if(!email || !pass){
    show("Email & Password required ❌","error");
    return;
  }

  btn.disabled = true;
  show("Logging in...","loading");

  firebase.auth()
    .signInWithEmailAndPassword(email,pass)
    .then(()=>{
      show("Login successful ✅","success");
      setTimeout(()=>{
        location.href="player.html";
      },800);
    })
    .catch(err=>{
      btn.disabled = false;

      if(err.code==="auth/user-not-found" ||
         err.code==="auth/wrong-password"){
        show("Wrong email or password ❌","error");
      }
      else if(err.code==="auth/invalid-email"){
        show("Invalid email ❌","error");
      }
      else{
        show(err.message,"error");
      }
    });
}
</script>

</body>
</html>
