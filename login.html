<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Player Login | AFN's Elite Strikers</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
:root{
  --neon:#00f7ff;
  --gold:#ffd400;
  --bg1:#02060c;
  --bg2:#0c1b2a;
}
*{margin:0;padding:0;box-sizing:border-box;font-family:'Segoe UI',sans-serif}
body{
  min-height:100vh;
  background:radial-gradient(circle at top,var(--bg2),var(--bg1));
  color:#fff;
  display:flex;
  justify-content:center;
  align-items:center;
}
.card{
  width:100%;
  max-width:380px;
  background:linear-gradient(145deg,#061726,#020c14);
  border-radius:22px;
  padding:24px;
  box-shadow:0 0 35px rgba(0,247,255,.45);
}
.logo{text-align:center;margin-bottom:10px}
.logo img{width:90px}
h2{text-align:center;color:var(--gold);margin-bottom:18px}
input{
  width:100%;
  padding:13px;
  border-radius:14px;
  border:none;
  outline:none;
  margin-bottom:14px;
  background:#020c14;
  color:#fff;
  font-size:15px;
}
.password-box{position:relative}
.toggle{
  position:absolute;
  right:14px;
  top:50%;
  transform:translateY(-50%);
  font-size:13px;
  color:var(--neon);
  cursor:pointer;
}
button{
  width:100%;
  padding:14px;
  border-radius:18px;
  border:none;
  cursor:pointer;
  font-weight:900;
  font-size:16px;
  background:linear-gradient(145deg,#081c2c,#020c14);
  color:var(--neon);
}
button:disabled{opacity:.6;cursor:not-allowed}
.message{
  font-size:14px;
  margin-bottom:12px;
  display:none;
  text-align:center;
}
.error{color:#ff6b6b;}
.success{color:#00ff99;}
.links{text-align:center;margin-top:16px;font-size:14px}
.links a{color:var(--neon);text-decoration:none;font-weight:700}
footer{text-align:center;font-size:12px;color:#aaa;margin-top:16px}
</style>
</head>

<body>

<div class="card">
  <div class="logo">
    <img src="logo.png">
  </div>

  <h2>Player Login</h2>

  <div id="msgBox" class="message"></div>

  <input type="email" id="email" placeholder="Gmail">

  <div class="password-box">
    <input type="password" id="password" placeholder="Password">
    <span class="toggle" onclick="togglePassword()">Show</span>
  </div>

  <button id="loginBtn" onclick="login()">Login</button>

  <div class="links">
    <a href="#" onclick="forgotPassword()">Forgot Password?</a><br><br>
    New player?
    <a href="register.html">Create Account</a>
  </div>

  <footer>¬© 2026 AFN's Elite Strikers</footer>
</div>

<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>

<script>
firebase.initializeApp({
  apiKey:"AIzaSyBtDxu0LJyb10ZkhH8IpxT5s8PcKc4nUxM",
  authDomain:"afnsclub.firebaseapp.com",
  projectId:"afnsclub"
});

const auth=firebase.auth();
auth.setPersistence(firebase.auth.Auth.Persistence.LOCAL);

const email=document.getElementById("email");
const password=document.getElementById("password");
const msgBox=document.getElementById("msgBox");
const loginBtn=document.getElementById("loginBtn");

function showMessage(msg,type){
  msgBox.innerText=msg;
  msgBox.className="message "+type;
  msgBox.style.display="block";
}

function clearMessage(){
  msgBox.style.display="none";
}

function togglePassword(){
  const toggle=document.querySelector(".toggle");
  if(password.type==="password"){
    password.type="text";
    toggle.innerText="Hide";
  }else{
    password.type="password";
    toggle.innerText="Show";
  }
}

/* Enter Key Login */
password.addEventListener("keypress",e=>{
  if(e.key==="Enter") login();
});

/* Auto Redirect */
auth.onAuthStateChanged(user=>{
  if(user){
    window.location.href="player.html";
  }
});

function login(){
  clearMessage();

  const emailVal=email.value.trim();
  const passVal=password.value.trim();

  if(!emailVal||!passVal){
    showMessage("‚ö†Ô∏è Gmail ‡¶è‡¶¨‡¶Ç Password ‡¶¶‡¶ø‡¶§‡ßá ‡¶π‡¶¨‡ßá","error");
    return;
  }

  if(!emailVal.includes("@")){
    showMessage("‚ùå Gmail ‡¶†‡¶ø‡¶ï ‡¶®‡¶æ‡¶á","error");
    return;
  }

  loginBtn.disabled=true;

  auth.signInWithEmailAndPassword(emailVal,passVal)
  .then(()=>{
    window.location.href="player.html";
  })
  .catch(error=>{
    let msg="‚ùå Login failed";

    if(error.code==="auth/too-many-requests"){
      msg="‚è≥ ‡¶Ö‡¶®‡ßá‡¶ï‡¶¨‡¶æ‡¶∞ ‡¶≠‡ßÅ‡¶≤ ‡¶ö‡ßá‡¶∑‡ßç‡¶ü‡¶æ ‡¶ï‡¶∞‡¶æ ‡¶π‡ßü‡ßá‡¶õ‡ßá, ‡¶™‡¶∞‡ßá ‡¶Ü‡¶¨‡¶æ‡¶∞ ‡¶ö‡ßá‡¶∑‡ßç‡¶ü‡¶æ ‡¶ï‡¶∞‡ßÅ‡¶®";
    }else{
      msg="‚ùå Gmail ‡¶Ö‡¶•‡¶¨‡¶æ Password ‡¶≠‡ßÅ‡¶≤";
    }

    showMessage(msg,"error");
    loginBtn.disabled=false;
  });
}

function forgotPassword(){
  clearMessage();

  const emailVal=email.value.trim();

  if(!emailVal){
    showMessage("üìß ‡¶Ü‡¶ó‡ßá Gmail ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®","error");
    return;
  }

  auth.sendPasswordResetEmail(emailVal)
  .then(()=>{
    showMessage("‚úÖ Password reset link Gmail ‡¶è ‡¶™‡¶æ‡¶†‡¶æ‡¶®‡ßã ‡¶π‡ßü‡ßá‡¶õ‡ßá","success");
  })
  .catch(()=>{
    showMessage("‚ùå Gmail ‡¶™‡¶æ‡¶ì‡ßü‡¶æ ‡¶Ø‡¶æ‡ßü‡¶®‡¶ø","error");
  });
}
</script>

</body>
</html>
