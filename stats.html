<!DOCTYPE html>
<html>
<head>
  <title>AFNS International Leaderboard</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <style>
    body{
      margin:0;
      background:#0f172a;
      font-family:Arial;
      color:white;
      text-align:center;
    }

    h1{margin-top:20px;}
    h2{margin-top:-10px;color:#94a3b8;}

    .board{
      width:95%;
      max-width:800px;
      margin:30px auto;
    }

    .player{
      display:flex;
      justify-content:space-between;
      align-items:center;
      padding:15px;
      margin:10px 0;
      border-radius:12px;
      background:#1e293b;
      transition:0.4s;
      cursor:pointer;
    }

    .player:hover{
      transform:scale(1.02);
      background:#334155;
    }

    .rank{
      font-weight:bold;
      width:60px;
    }

    .gold{background:linear-gradient(45deg,#ffd700,#ffb700);}
    .silver{background:linear-gradient(45deg,#c0c0c0,#9e9e9e);}
    .bronze{background:linear-gradient(45deg,#cd7f32,#8d5524);}
  </style>
</head>

<body>

<h1>üåç AFNS INTERNATIONAL FEDERATION</h1>
<h2>WORLD RANKING BOARD</h2>

<div class="board" id="leaderboard"></div>

<script type="module">

import { initializeApp } from 
"https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";

import { getFirestore, collection, query, orderBy, onSnapshot } 
from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

/* üî• YOUR FIREBASE CONFIG */
const firebaseConfig = {
  apiKey: "AIzaSyBtDxu0LJyb10ZkhH8lpxT5s8PcKc4nUxM",
  authDomain: "afnsclub.firebaseapp.com",
  projectId: "afnsclub",
  storageBucket: "afnsclub.firebasestorage.app",
  messagingSenderId: "1088089213558",
  appId: "1:1088089213558:web:bd5e01caaeeecaa46bcad57",
  measurementId: "G-WT4XY15N6Y"
};

const app = initializeApp(firebaseConfig);
const db = getFirestore(app);

const board = document.getElementById("leaderboard");

const q = query(collection(db,"players"), orderBy("rating","desc"));

onSnapshot(q,(snapshot)=>{

  board.innerHTML="";
  let rank=1;

  snapshot.forEach(doc=>{

    const data = doc.data();
    const rating = data.rating || 0;

    const div = document.createElement("div");
    div.className="player";

    if(rank==1) div.classList.add("gold");
    if(rank==2) div.classList.add("silver");
    if(rank==3) div.classList.add("bronze");

    div.innerHTML=`
      <div class="rank">#${rank}</div>
      <div>${data.username || "Unknown Player"}</div>
      <div>‚≠ê ${rating}</div>
    `;

    div.onclick=()=>{
      window.location.href="profile.html?uid="+doc.id;
    };

    board.appendChild(div);
    rank++;
  });

});

</script>

</body>
</html>
