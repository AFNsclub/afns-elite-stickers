<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>My Matches | AFNS</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>

<style>
body{margin:0;font-family:Arial;background:radial-gradient(circle at top,#0a1a4a,#050b1e);color:white;padding:20px;}
.container{max-width:700px;margin:auto;}
.card{background:#0b1622;padding:15px;border-radius:14px;margin-bottom:12px;}
</style>
</head>
<body>

<div class="container">
<h2>ðŸŽ® My Matches</h2>
<div id="matches"></div>
</div>

<script>
firebase.initializeApp({
  apiKey:"AIzaSyBtDxu0LJyb10ZkhH8IpxT5s8PcKc4nUxM",
  authDomain:"afnsclub.firebaseapp.com",
  projectId:"afnsclub"
});
const auth = firebase.auth();
const db = firebase.firestore();

/* Login Check */
auth.onAuthStateChanged(user=>{
  if(!user){alert("Login Required"); location.replace("login.html");}
  else{loadMatches(user.email);}
});

/* Load Matches */
function loadMatches(email){
  db.collection("matches").onSnapshot(s=>{
    const container = document.getElementById("matches");
    container.innerHTML="";
    s.forEach(doc=>{
      const m = doc.data();
      if(m.playerAEmail===email || m.playerBEmail===email || m.playerA===email || m.playerB===email){
        container.innerHTML += `<div class="card">${m.playerA} ðŸ†š ${m.playerB} | Round: ${m.round} | Status: ${m.status}</div>`;
      }
    });
  });
}
</script>

</body>
</html>
