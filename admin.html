<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Admin Dashboard</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- Firebase -->
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>

<style>
/* ===== SAME CSS â€“ UNTOUCHED ===== */
:root{
  --bg:#050b1e;
  --card:#0b1622;
  --accent:#4f8cff;
  --accent-glow:0 0 12px rgba(79,140,255,.6);
  --text:#ffffff;
  --muted:rgba(255,255,255,.6);
}
*{box-sizing:border-box}
body{
  margin:0;
  font-family:Arial, sans-serif;
  background:radial-gradient(circle at top,#0a1a4a 0%,#050b1e 60%);
  color:var(--text);
}
.header{
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding:14px 16px;
  background:linear-gradient(180deg,#070f2a,#050b1e);
}
.brand{display:flex;align-items:center;gap:10px}
.brand img{height:36px}
.logout{
  background:none;
  border:1px solid var(--accent);
  color:var(--accent);
  padding:6px 14px;
  border-radius:8px;
  cursor:pointer;
}
.container{max-width:1100px;margin:auto;padding:18px}
.grid{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(170px,1fr));
  gap:16px;
}
.card{
  background:#0b1622;
  border-radius:18px;
  padding:20px;
  cursor:pointer;
}
.icon{font-size:28px}
.title{margin-top:10px;font-weight:bold}
.desc{font-size:12px;opacity:.6}
.stats{
  margin-top:22px;
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(140px,1fr));
  gap:14px;
}
.stat{
  background:rgba(255,255,255,.05);
  border-radius:16px;
  padding:16px;
  text-align:center;
}
.stat span{
  display:block;
  font-size:24px;
  font-weight:bold;
  color:var(--accent);
}
.footer{text-align:center;font-size:12px;opacity:.5;margin-top:30px}
</style>
</head>

<body>

<div class="header">
  <div class="brand">
    <img src="logo.png">
    <span>Admin Dashboard</span>
  </div>
  <button class="logout" onclick="logout()">Logout</button>
</div>

<div class="container">

<div class="grid">
  <div class="card" onclick="go('tournament.html')">
    <div class="icon">ğŸ†</div>
    <div class="title">Tournament Builder</div>
    <div class="desc">Create & manage tournaments</div>
  </div>

  <div class="card" onclick="go('pvp-result.html')">
    <div class="icon">âš”ï¸</div>
    <div class="title">PvP Match</div>
    <div class="desc">Player vs Player result</div>
  </div>

  <div class="card" onclick="go('ranking.html')">
    <div class="icon">ğŸ“Š</div>
    <div class="title">Ranking Board</div>
    <div class="desc">Auto updated rankings</div>
  </div>

  <div class="card" onclick="go('champion.html')">
    <div class="icon">ğŸ‘‘</div>
    <div class="title">Champion</div>
    <div class="desc">Profile & certificate</div>
  </div>

  <div class="card" onclick="go('certificate.html')">
    <div class="icon">ğŸ“„</div>
    <div class="title">Certificates</div>
    <div class="desc">Generate PDF</div>
  </div>

  <div class="card" onclick="go('activity.html')">
    <div class="icon">ğŸ§¾</div>
    <div class="title">Activity Log</div>
    <div class="desc">System actions</div>
  </div>
</div>

<div class="stats">
  <div class="stat"><span id="players">0</span>Players</div>
  <div class="stat"><span id="matches">0</span>Matches</div>
  <div class="stat"><span id="tournaments">0</span>Tournaments</div>
  <div class="stat"><span>OK</span>System</div>
</div>

<div class="footer">
  AFNS Club â€¢ Premium Admin System
</div>

</div>

<script>
/* ğŸ”¥ FIREBASE INIT */
firebase.initializeApp({
  apiKey: "AIzaSyBtDxu0LJyb10ZkhH8IpxT5s8PcKc4nUxM",
  authDomain: "afnsclub.firebaseapp.com",
  projectId: "afnsclub"
});

const auth = firebase.auth();
const db = firebase.firestore();

/* ğŸ” AUTH CHECK */
auth.onAuthStateChanged(user=>{
  if(!user){
    location.href="admin-login.html";
  }
});

/* ğŸš€ AUTO STATS FROM FIREBASE */
db.collection("players").onSnapshot(snap=>{
  players.innerText = snap.size;
});

db.collection("matches").onSnapshot(snap=>{
  matches.innerText = snap.size;
});

db.collection("tournaments").onSnapshot(snap=>{
  tournaments.innerText = snap.size;
});

/* NAV */
function go(p){location.href=p}

function logout(){
  auth.signOut().then(()=>{
    location.href="admin-login.html";
  });
}
</script>

</body>
</html>
