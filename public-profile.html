<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Public Player Profile</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
*{box-sizing:border-box;font-family:Arial,Helvetica,sans-serif}
body{
  margin:0;
  min-height:100vh;
  background:linear-gradient(135deg,#050b1f,#0a1233);
  color:#fff;
}
.container{
  max-width:420px;
  margin:40px auto;
  background:rgba(255,255,255,.06);
  backdrop-filter:blur(10px);
  border-radius:16px;
  padding:22px;
  box-shadow:0 0 25px rgba(0,0,0,.6);
}
.header{
  text-align:center;
}
.header h2{
  margin:0;
}
.motivation{
  margin:14px 0;
  padding:10px;
  border-radius:10px;
  background:rgba(59,130,246,.15);
  text-align:center;
  font-size:14px;
}
.avatar{
  width:70px;
  height:70px;
  border-radius:50%;
  background:#3b82f6;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:30px;
  font-weight:bold;
  margin:14px auto;
}
.name{
  text-align:center;
  font-size:20px;
  font-weight:bold;
}
.rank{
  text-align:center;
  margin-top:6px;
  color:#a5b4fc;
}
.card{
  margin-top:16px;
  background:rgba(255,255,255,.05);
  padding:14px;
  border-radius:12px;
}
.card p{
  margin:6px 0;
  font-size:14px;
}
.card span{
  color:#a5b4fc;
}
.stats{
  display:grid;
  grid-template-columns:repeat(4,1fr);
  gap:10px;
  margin-top:14px;
}
.stat{
  background:rgba(255,255,255,.05);
  padding:10px;
  border-radius:10px;
  text-align:center;
}
.stat b{display:block}
footer{
  margin-top:18px;
  text-align:center;
  font-size:12px;
  opacity:.6;
}
footer img{
  height:24px;
  vertical-align:middle;
}
footer a{color:#a5b4fc;text-decoration:none}
</style>

<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>

<script>
firebase.initializeApp({
  apiKey:"AIzaSyBtDxu0LJyb10ZkhH8IpxT5s8PcKc4nUxM",
  authDomain:"afnsclub.firebaseapp.com",
  projectId:"afnsclub"
});
</script>
</head>

<body>

<div class="container">
  <div class="header">
    <h2>Player Profile</h2>
  </div>

  <div class="motivation" id="motivation"></div>

  <div class="avatar" id="avatar">P</div>
  <div class="name" id="playerName">Player</div>
  <div class="rank" id="rankText">#â€“</div>

  <div class="card">
    <p>ðŸŽ® Game ID: <span id="gameIdText">â€”</span></p>
    <p>ðŸ“± Device: <span id="deviceText">â€”</span></p>
    <p>ðŸ”— Facebook: <a id="fbLink" target="_blank">Profile</a></p>
  </div>

  <div class="stats">
    <div class="stat"><b id="wins">0</b>Wins</div>
    <div class="stat"><b id="losses">0</b>Loss</div>
    <div class="stat"><b id="goals">0</b>Goals</div>
    <div class="stat"><b id="gd">0</b>GD</div>
  </div>

  <footer>
    <img src="logo.png"><br>
    AFNs Elite Striker |
    <a href="https://www.facebook.com/share/1CTCywTQAj/" target="_blank">
      SI Shohan
    </a>
  </footer>
</div>

<script>
const db = firebase.firestore();

/* MOTIVATION */
const MOTIVATIONS=[
"Train hard, win easy.",
"No excuses, only results.",
"Discipline beats talent.",
"One goal can change everything.",
"Stay calm. Finish strong.",
"Every match matters.",
"Respect the game.",
"Focus. Fight. Finish."
];

function dailyMotivation(uid){
  const d=new Date().toISOString().slice(0,10);
  let h=0;for(let c of uid+d)h=c.charCodeAt(0)+((h<<5)-h);
  return MOTIVATIONS[Math.abs(h)%MOTIVATIONS.length];
}

/* GET UID FROM URL ?uid= */
const params=new URLSearchParams(location.search);
const uid=params.get("uid");

if(!uid){
  alert("Player not found");
}else{
  db.collection("players").doc(uid).get().then(doc=>{
    if(!doc.exists)return;
    const d=doc.data();

    motivation.textContent=dailyMotivation(uid);
    playerName.textContent=d.name||"Player";
    avatar.textContent=(d.name||"P")[0].toUpperCase();
    rankText.textContent="#"+(d.rank||"â€”");

    gameIdText.textContent=d.gameId||"â€”";
    deviceText.textContent=d.device||"â€”";
    fbLink.href=d.fb||"#";

    wins.textContent=d.wins||0;
    losses.textContent=d.losses||0;
    goals.textContent=d.goals||0;
    gd.textContent=d.gd||0;
  });
}
</script>

</body>
</html>
