<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Edit Profile</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
body{background:#0d1117;color:#fff;font-family:Arial}
.box{max-width:400px;margin:auto;padding:20px}
input,button{
  width:100%;padding:10px;margin:6px 0;
  border-radius:10px;border:none;
}
button{background:#22c55e;font-weight:bold}
</style>
</head>
<body>

<div class="box">
<h3>Edit Profile</h3>
<input id="device" placeholder="Device Name">
<input id="owner" placeholder="Owner / Game ID">
<input id="fb" placeholder="Facebook Profile Link">
<button onclick="save()">Save</button>
</div>

<script type="module">
import { auth, db } from "./firebase-init.js";
import { doc, updateDoc } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";
import { onAuthStateChanged } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";

let uid;
onAuthStateChanged(auth,u=>{
  if(!u) location.href="login.html";
  uid=u.uid;
});

window.save=async()=>{
  await updateDoc(doc(db,"players",uid),{
    device:device.value,
    ownerId:owner.value,
    facebook:fb.value
  });
  alert("Saved");
}
</script>
</body>
</html>
